(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{701:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、-centos-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、-centos-安装"}},[s._v("#")]),s._v(" 一、 Centos 安装")]),s._v(" "),a("ol",[a("li",[s._v("设置Minishift管理程序驱动程序\nKVM用户需要手动安装驱动程序插件。以下安装KVM驱动程序（适用于KVM用户）。")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libvirt qemu-kvm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -a -G libvirt "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -ri "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'s/.?group\\s?=\\s?".+"/group = "kvm"/1\'')]),s._v(" /etc/libvirt/qemu.conf\nnewgrp libvirt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" newgrp libvirtd\nsystemctl is-active libvirtd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start libvirtd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-list --all\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Name                 State      Autostart     Persistent")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#---------------------------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#default              active     yes           yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-start default\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("virsh")]),s._v(" net-autostart default\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以下命令在root用户下执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L https://github.com/dhiltgen/docker-machine-kvm/releases/download/v0.10.0/docker-machine-driver-kvm-centos7 -o /usr/local/bin/docker-machine-driver-kvm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-machine-driver-kvm\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("如果kvm不能启动的话可以使用virtual box")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("下载openshift二进制文件\n"),a("a",{attrs:{href:"https://github.com/minishift/minishift/releases/download/v1.34.2/minishift-1.34.2-linux-amd64.tgz",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),a("OutboundLink")],1),s._v("\n得到minishift 二进制程序，下载完成后"),a("a",{attrs:{href:"../../foundation/linux#_1-6-%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"}},[s._v("配置minishift环境变量")])])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" minishift /usr/local/bin\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("下载oc程序\n"),a("a",{attrs:{href:"https://github.com/openshift/origin/releases/download/v3.11.0/openshift-origin-client-tools-v3.11.0-0cbc58b-linux-64bit.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),a("OutboundLink")],1),s._v("\n得到oc二进制程序，存放到下面位置")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" openshift-origin-client-tools-v3.11.0-0cbc58b-linux-64bit.tar.gz ~/.minishift/cache/oc/v3.11.0/linux/oc\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("下载minishift-centos7.iso文件\n"),a("a",{attrs:{href:"https://github.com/minishift/minishift-centos-iso/releases/download/v1.16.0/minishift-centos7.iso",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),a("OutboundLink")],1),s._v("\n放到下面位置")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" minishift-centos7.iso ~/.minishift/cache/iso/centos/v1.16.0/minishift-centos7.iso \n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",[s._v("如果以上文件夹没有创建，请自行创建")])]),s._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[s._v("运行命令启动")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minishift start "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#KVM")]),s._v("\nminishift --vm-driver"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("virtulbox "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# virtual box")]),s._v("\n")])])]),a("p",[s._v("参考"),a("a",{attrs:{href:"https://docs.okd.io/3.11/minishift/using/basic-usage.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redhat-OKD"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[s._v("如果使用的是Vmware首先要开启CPUVT虚拟化技术")])]),s._v(" "),a("h3",{attrs:{id:"可能出现的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可能出现的问题"}},[s._v("#")]),s._v(" 可能出现的问题")]),s._v(" "),a("ol",[a("li",[s._v("Openshift 版本校验")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-- Checking "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" requested OpenShift version "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v3.11.0'")]),s._v(" is valid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". v3.11.0 is not a valid OpenShift versionFAIL\n")])])]),a("p",[s._v("使用命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minishift config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" skip-check-openshift-release "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("网络切换或镜像下载失败\n请使用科学网络去下载openshift需要的镜像，不然kvm是下载不了那些images的，在下载的时候也不要随意关闭科学上网工具，不然网络切换会造成镜像无法下载的情况，如果镜像拉取超时，请进入kvm自行下载")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("minishift "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])])]),a("h2",{attrs:{id:"二、-win10-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、-win10-安装"}},[s._v("#")]),s._v(" 二、 win10 安装")]),s._v(" "),a("p",[s._v("步骤同上，只是将oc和openshift二进制文件下载成windows系统")])])}),[],!1,null,null,null);t.default=e.exports}}]);