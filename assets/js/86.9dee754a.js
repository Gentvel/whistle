(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{638:function(s,t,e){"use strict";e.r(t);var a=e(4),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"一、基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、基本命令"}},[s._v("#")]),s._v(" 一、基本命令")]),s._v(" "),e("p",[e("em",[s._v("基于centos系统版本命令")])]),s._v(" "),e("h3",{attrs:{id:"_1-1-防火墙相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-防火墙相关"}},[s._v("#")]),s._v(" 1.1 防火墙相关")]),s._v(" "),e("ul",[e("li",[e("h4",{attrs:{id:"进程与状态相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进程与状态相关"}},[s._v("#")]),s._v(" 进程与状态相关")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl start firewalld.service            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动防火墙  ")]),s._v("\nsystemctl stop firewalld.service             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止防火墙  ")]),s._v("\nfirewall-cmd --state                         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看防火墙状态  ")]),s._v("\nfirewall-cmd --state                         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看防火墙状态  ")]),s._v("\nfirewall-cmd --reload                        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重载防火墙规则  ")]),s._v("\nfirewall-cmd --list-ports                    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有打开的端口  ")]),s._v("\nfirewall-cmd --list-services                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有允许的服务  ")]),s._v("\nfirewall-cmd --get-services                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取所有支持的服务 ")]),s._v("\n")])])]),e("ul",[e("li",[e("h4",{attrs:{id:"区域相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#区域相关"}},[s._v("#")]),s._v(" 区域相关")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --list-all-zones                    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有区域信息  ")]),s._v("\nfirewall-cmd --get-active-zones                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看活动区域信息  ")]),s._v("\nfirewall-cmd --set-default-zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public           "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置public为默认区域  ")]),s._v("\nfirewall-cmd --get-default-zone                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看默认区域信息  ")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-interface"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eth0  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将接口eth0加入区域public")]),s._v("\n")])])]),e("ul",[e("li",[e("h4",{attrs:{id:"端口控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#端口控制"}},[s._v("#")]),s._v(" 端口控制")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent               "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久添加80端口例外(全局)")]),s._v("\nfirewall-cmd --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久删除80端口例外(全局)")]),s._v("\nfirewall-cmd --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("65001")]),s._v("-65010/tcp --permanent      "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久增加65001-65010例外(全局)  ")]),s._v("\n\nfirewall-cmd  --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久添加80端口例外(区域public)")]),s._v("\nfirewall-cmd  --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久删除80端口例外(区域public)")]),s._v("\nfirewall-cmd  --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("65001")]),s._v("-65010/tcp --permanent   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久增加65001-65010例外(区域public) ")]),s._v("\n")])])]),e("ul",[e("li",[e("h4",{attrs:{id:"指定ip段可以访问与不能访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指定ip段可以访问与不能访问"}},[s._v("#")]),s._v(" 指定ip段可以访问与不能访问")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定ip段可以访问")]),s._v("\nfirewall-cmd --permanent --add-rich-rule"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.0/24"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port protocol="')]),s._v("tcp"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port="')]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" accept"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定ip不可以访问")]),s._v("\nfirewall-cmd --permanent --add-rich-rule"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rule family="')]),s._v("ipv4"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" source address="')]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.0/24"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port protocol="')]),s._v("tcp"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" port="')]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('" reject"')]),s._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",[e("strong",[s._v("注：如果某个接口不属于任何Zone，那么这个接口的所有数据包使用默认的Zone的规则。")])])]),s._v(" "),e("p",[s._v("命令含义：")]),s._v(" "),e("ul",[e("li",[s._v("--zone #作用域")]),s._v(" "),e("li",[s._v("--add-port=80/tcp #添加端口，格式为：端口/通讯协议")]),s._v(" "),e("li",[s._v("--permanent #永久生效，没有此参数重启后失效")])]),s._v(" "),e("h3",{attrs:{id:"_1-2-systemctl命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-systemctl命令"}},[s._v("#")]),s._v(" 1.2 Systemctl命令")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl start firewalld.service               "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动服务")]),s._v("\nsystemctl stop firewalld.service                "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭服务")]),s._v("\nsystemctl reloadt firewalld.service             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重载配置")]),s._v("\nsystemctl restart firewalld.service             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启服务")]),s._v("\nsystemctl status firewalld.service              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示服务的状态")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在开机时启用服务")]),s._v("\nsystemctl disable firewalld.service             "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在开机时禁用服务")]),s._v("\nsystemctl is-enabled firewalld.service          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看服务是否开机启动")]),s._v("\nsystemctl list-unit-files"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" enabled          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看已启动的服务列表")]),s._v("\nsystemctl --failed                              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看启动失败的服务列表")]),s._v("\n\n")])])]),e("h3",{attrs:{id:"_1-3-关闭centos7自带firewall启用iptables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-关闭centos7自带firewall启用iptables"}},[s._v("#")]),s._v(" 1.3 关闭CentOS7自带Firewall启用iptables")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" iptables-services           "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装iptables  ")]),s._v("\nsystemctl stop firewalld.service        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止firewalld  ")]),s._v("\nsystemctl mask firewalld.service        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#禁止自动和手动启动firewalld  ")]),s._v("\nsystemctl start iptables.service        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动iptables")]),s._v("\nsystemctl start ip6tables.service       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动ip6tables  ")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" iptables.service       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置iptables自启动  ")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ip6tables.service      "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置ip6tables自启动  ")]),s._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",[e("strong",[s._v("静态防火墙规则配置文件是"),e("code",[s._v("/etc/sysconfig/iptables")]),s._v("以及"),e("code",[s._v("/etc/sysconfig/ip6tables")])])])]),s._v(" "),e("h3",{attrs:{id:"_1-4-linux释放内存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-linux释放内存"}},[s._v("#")]),s._v(" 1.4 Linux释放内存")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#释放网页缓存(To free pagecache):")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#释放目录项和索引(To free dentries and inodes):")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#释放网页缓存，目录项和索引（To free pagecache, dentries and inodes):")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n")])])]),e("h3",{attrs:{id:"_1-5-关闭selinux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-关闭selinux"}},[s._v("#")]),s._v(" 1.5 关闭selinux")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#临时关闭selinux")]),s._v("\nsetenforce "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久关闭selinux")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/selinux/config\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改enforcing为disabled")]),s._v("\n")])])]),e("h3",{attrs:{id:"_1-6-设置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-设置环境变量"}},[s._v("#")]),s._v(" 1.6 设置环境变量")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/f110300641/article/details/82663132?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.nonecase",target:"_blank",rel:"noopener noreferrer"}},[s._v("Centos7设置环境变量"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("设置完注意source")]),s._v(" "),e("h2",{attrs:{id:"二、插件命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、插件命令"}},[s._v("#")]),s._v(" 二、插件命令")]),s._v(" "),e("h3",{attrs:{id:"_2-1-yum-清理缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-yum-清理缓存"}},[s._v("#")]),s._v(" 2.1 YUM 清理缓存")]),s._v(" "),e("p",[s._v("清理yum缓存使用yum clean 命令，yum clean 的参数有headers, packages, metadata, dbcache, plugins, expire-cache, rpmdb, all")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum clean headers  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清理/var/cache/yum的headers")]),s._v("\nyum clean packages "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清理/var/cache/yum下的软件包")]),s._v("\nyum clean metadata\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);