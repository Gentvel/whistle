---
title: Redis系列五 事务
date: 2020-10-18
sidebar: auto
prev: ./rdbaof
next: false
---

## 简介
当redis在执行指令的过程中，多条连续执行的指令被干扰，打断，插队。

redis事务就是一个命令的执行队列，将一系列预定义的命令包装成一个整体。当执行时，一次性按照添加顺序一次执行，中间不会被打断或者干扰。
## 事务的基本操作
- 开启事务 `muti`  
设定事务的开启位置，此指令执行后，后续的所有指令均加入到事务中
- 执行事务 `execc`  
设定事务的结束位置，同时执行事务，与muti成对出现，成对使用

```shell
>muti
OK
>set age 11
QUEUED
>set age 12
QUEUED
>exec
OK
11
OK
12
```

:::tip
加入事务的命令展示进入到任务队列中，并没有立即执行，只有执行exec命令才开始执行
:::

当在事务定义过程中出现问题，可以使用`discard`取消事务，终止当前事务，发生在muti之后，exec之前
